(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{288:function(e,t,n){var content=n(291);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(59).default)("299eb846",content,!0,{sourceMap:!1})},290:function(e,t,n){"use strict";n(288)},291:function(e,t,n){var r=n(58)((function(i){return i[1]}));r.push([e.i,"/*purgecss start ignore*/\n.slide-enter-active[data-v-36e80199],.slide-leave-active[data-v-36e80199]{\n  transition:transform 1s ease\n}\n.slide-enter[data-v-36e80199],.slide-leave-to[data-v-36e80199]{\n  transform:translateX(-100%);\n  transition:all 1s ease 0s\n}\n\n/*purgecss end ignore*/",""]),r.locals={},e.exports=r},312:function(e,t,n){"use strict";n.r(t);var r=n(6),o=(n(35),{layout:"layout",data:function(){return{isOpen:!1,list:[],cls:"",pupil:""}},asyncData:function(e){return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$supabase,t.next=3,n.from("pupils").select("*").order("id",{ascending:!0});case 3:return r=t.sent,data=r.data,t.abrupt("return",{list:data});case 6:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.subscribeLists();case 2:case"end":return t.stop()}}),t)})))()},destroyed:function(){this.unsubscribePosts()},methods:{addNewPupil:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$supabase.from("pupils").insert([{name:e.pupil,class:e.cls}]);case 2:e.pupil="",e.cls="";case 4:case"end":return t.stop()}}),t)})))()},subscribeLists:function(){var e=this;this.$supabase.from("pupils").on("INSERT",(function(t){t.new&&(e.list.push(t.new),console.log(t.new))})).subscribe()},unsubscribePosts:function(){this.$supabase.removeSubscription(this.subscribeLists)}}}),l=(n(290),n(17)),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("transition",{attrs:{name:"slide"}},[e.isOpen?n("div",{staticClass:" bg-white shadow-lg  w-64  min-h-screen  fixed flex"},[n("span",{staticClass:"ml-auto",on:{click:function(t){e.isOpen=!e.isOpen}}},[n("svg",{staticClass:"h-5 w-5 cursor-pointer m-1",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"}},[n("path",{attrs:{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"}})])])]):e._e()]),e._v(" "),n("div",{staticClass:"p-2"},[n("span",{on:{click:function(t){e.isOpen=!e.isOpen}}},[n("svg",{staticClass:"h-5 w-5 cursor-pointer",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"}},[n("path",{attrs:{"fill-rule":"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z","clip-rule":"evenodd"}})])])]),e._v(" "),n("div",{staticClass:"grid grid-cols-3 gap-4 p-2"},[n("div",{staticClass:"w-full bg-yellow-200 "},[n("ul",e._l(e.list,(function(t){return n("li",{key:t.id},[e._v("\n                    "+e._s(t.name)+"\n                ")])})),0)]),e._v(" "),n("div",{staticClass:"w-full bg-yellow-200 h-64"},[n("form",{staticClass:"bg-white shadow-md rounded pt-2 px-4 pb-4 mb-4",on:{submit:function(t){return t.preventDefault(),e.addNewPupil()}}},[n("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2"},[e._v("\n            Pupil\n          ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pupil,expression:"pupil"}],staticClass:"\n              shadow\n              appearance-none\n              border\n              rounded\n              w-full\n              py-2\n              px-3\n              text-gray-700\n              leading-tight\n              focus:outline-none focus:shadow-outline\n            ",attrs:{type:"text"},domProps:{value:e.pupil},on:{input:function(t){t.target.composing||(e.pupil=t.target.value)}}}),e._v(" "),n("div",{staticClass:"mb-6"},[n("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2"},[e._v("\n            Class\n          ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.cls,expression:"cls"}],staticClass:"\n              shadow\n              appearance-none\n              border\n              rounded\n              w-full\n              py-1\n              px-3\n              text-gray-700\n              mb-3\n              leading-tight\n              focus:outline-none focus:shadow-outline\n            ",attrs:{type:"text"},domProps:{value:e.cls},on:{input:function(t){t.target.composing||(e.cls=t.target.value)}}})]),e._v(" "),e._m(0)])]),e._v(" "),n("div",{staticClass:"w-full bg-yellow-200 h-64"},[e._v("\n            ok\n        ")])])],1)}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("button",{staticClass:"\n              bg-purple-800\n              hover:bg-purple-900\n              text-white\n              font-bold\n              py-1\n              px-4\n              rounded\n              focus:outline-none focus:shadow-outline\n            ",attrs:{type:"submit"}},[e._v("\n            Add new pupil\n          ")])])}],!1,null,"36e80199",null);t.default=component.exports}}]);